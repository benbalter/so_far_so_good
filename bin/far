#!/usr/bin/env ruby

require_relative "../lib/so_far_so_good"
clause = SoFarSoGood[ARGV[1]]

if ARGV[1].nil? || ARGV[0] == "--help"
  puts "Usage: far [output] [NUMBER]"
  exit 1
elsif clause
  if ARGV[0] == "body"
    puts "# " + clause.number + ". " + clause.subject + "\n\n"
    puts clause.body(:format => :markdown)
  elsif ARGV[0] == "extract"
    puts clause.extract(:format => :markdown)
  else
    puts "Usage: far [output] [NUMBER]"
    exit 1
  end
  exit 0
else
  puts "Not found."
  exit 1
end
